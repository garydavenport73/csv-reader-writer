


replace , with special character


read through each character,
if the character is " then add +1 and set to mod

split file into lines


let inside=-1
go through characters in the line
at each character
    if the character is a "
    inside=inside*-1
    if the character is a ,
    if inside=1, do nothing
    if inside=-1, (outside), replace , with special character


X Need function to write CSV to array of arrays                     CSVStringToArrayOfArrays();             MAIN FUNCTION
X Need function to write array of arrays to CSV                     arrayOfArraysToCSVString(arrayOfArrays) MAIN FUNCTION

X Need function to convert array of arrays to json += headers       arrayOfArraysToJSON(arrayOfArrays,usingHeaders);
    // if not using headers will build

X Need function to convert JSON to Array of Arrays using headers    jsonToArrayOfArrays(json, includeHeaders);

X Need function to convert unordered JSON to Array of Arrays using headers (will build header, include headers);


/////////////////////////////////////////////////////////////////////////////////////

FUNCTION NAME                                       INPUT                                           OUTPUT                         
csvToArrays(csvString)                              csv                                             array of arrays                                 
arraysToCsv(arrayOfArrays)                          array of arrays                                 csv                                             
arraysToJSON(arrays, usingHeaders)                  array of arrays                                 JSON {["headers"]=[],["data"]=[{},{},{}...]}  
JSONToArrays(jsonObject, includeHeaders)            JSON {["headers"]=[],["data"]=[{},{},{}...]}    array of arrays
unorderdJSONToArrays(jsonObject,includeHeaders)     JSON [{"key":"value"},{k:v},...]                array of arrays

Composite Functions:
csvToJSON(csvString, usingHeaders)                  csv                                             JSON {["headers"]=[],["data"]=[{},{},{}...]}                                            
JSONToCSV(jsonObject, includeHeaders)               JSON {["headers"]=[],["data"]=[{},{},{}...]}    csv
unorderedJSONToCsv(jsonObject, includeHeaders)      JSON [{"key":"value"},{k:v},...]                csv
//////////////////////////////////////////////////////////////////////////////////////







X Need function to convert unorderd JSON to Array of Arrays (will build headers);




O Need function to convert unordered JSON to arrayOfArrays  

CVS to Arrays = exact copy, don't worry about headers
Arrays to CSV = don't worry about headers

Arrays to JSON, need to know if Array has header (default true)
JSON to Array, need to know if header is wanted (default true)

unorderedJSON to Array, header will be built, need to know if header is desired in Array (default true)

to go from Array to unorderedJSON, need to know if Array has header, if so ()





O Need function to convert array of arrays to CSV




       





OLD not needed
O Need function to fix CSV to all quotes                            X quoteAllCSVCells(csvString)
















Revisions to be made:
Overall notes...
*
If a cell is read in by csv destined for array element:
1) if it contains outer quotes, remove them
2) then replace interior double quotes "" with "
So process is to:
    -split by "real commas"
    -remove outer quotes if present
    -replace interior "" with "

If array element is being written to csv
    replace interior "" with "
    place outer quotes
    join with comma

